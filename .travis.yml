sudo: required
language: node_js
node_js:
  - "6"
services:
  - docker
install:
  - npm install --only=dev
script:
  - npm run lint test-visual

before_install:
  - docker build -t hsldevcom/digitransit-ui:$TRAVIS_COMMIT .
  - docker run -d -e CONFIG=hsl -p 127.0.0.1:8080:8080 hsldevcom/digitransit-ui:$TRAVIS_COMMIT
